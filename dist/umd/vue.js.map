{"version":3,"file":"vue.js","sources":["../../src/observer/index.js","../../src/state.js","../../src/init.js","../../src/index.js"],"sourcesContent":["/**\n * 处理响应式数据\n */\n\nexport function observe(data) {\n  console.log(data, 'data');\n}\n","import { observe } from './observer/index';\n\nexport function initState(vm) {\n  // vm.$options\n  // 针对不同的情况做 不同的初始化操作\n\n  let options = vm.$options;\n  if (options.props) {\n    initProps(vm);\n  }\n  if (options.methods) {\n    initMethods(vm);\n  }\n  if (options.data) {\n    initData(vm);\n  }\n  if (options.computed) {\n    initComputed(vm);\n  }\n  if (options.watch) {\n    initWatch(vm);\n  }\n}\n\nfunction initProps(vm) {}\nfunction initMethods(vm) {}\nfunction initData(vm) {\n  let data = vm.$options.data;\n  // data 有可能是函数 有可能是对象\n  data = typeof data === 'function' ? data.call(vm) : data;\n  observe(data);\n}\nfunction initComputed(vm) {}\nfunction initWatch(vm) {}\n","/**\n * 针对当前需要初始化的操作做一些初始化\n * 将我们的Vue传入 执行初始化操作\n * Vue 是一个什么框架 不是mvvm框架，只是参考了其思想而已，非说是，那不严格\n * mvvm 的特点 - 数据变化视图会更新，视图变化会影响数据 \n * mvvm有个条件，就是不能跳过数据去更新视图，但是vue中不遵循，比如 $ref 可以直接操作dom\n * \n */\n\nimport { initState } from \"./state\";\n\nexport function initMixin(Vue) {\n  Vue.prototype._init = function (options) {\n    // 对实例拓展属性\n    const vm = this;\n    vm.$options = options;\n    // vue 核心特性 响应式原理\n    // 初始化状态 (将数据做一个初始化的拦截，当数据发生变更时，更新视图)\n    // vue组件中有很多状态，比如 data props watch computed 都和数据相关 \n    initState(vm)\n  };\n}\n","/**\n * 针对构造函数的原型拓展方法\n * es6的类的写法 是一个整体 不利于我们书写原型属性\n * 采用构造函数的形式 可以将对原型的拓展分散到不同的文件中\n *\n * 将各种方法整个成插件解耦出去，写成一个个插件对原型进行拓展\n */\n\nimport { initMixin } from './init';\nfunction Vue(options) {\n  this._init(options); // 入口方法 做初始化使用\n}\n\ninitMixin(Vue);\n\nexport default Vue;\n"],"names":["observe","data","console","log","initState","vm","options","$options","props","methods","initData","computed","watch","call","initMixin","Vue","prototype","_init"],"mappings":";;;;;;EAAA;EACA;EACA;EAEO,SAASA,OAAT,CAAiBC,IAAjB,EAAuB;EAC5BC,EAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ,EAAkB,MAAlB;EACD;;ECJM,SAASG,SAAT,CAAmBC,EAAnB,EAAuB;EAC5B;EACA;EAEA,MAAIC,OAAO,GAAGD,EAAE,CAACE,QAAjB;;EACA,MAAID,OAAO,CAACE,KAAZ,EAAmB;;EAGnB,MAAIF,OAAO,CAACG,OAAZ,EAAqB;;EAGrB,MAAIH,OAAO,CAACL,IAAZ,EAAkB;EAChBS,IAAAA,QAAQ,CAACL,EAAD,CAAR;EACD;;EACD,MAAIC,OAAO,CAACK,QAAZ,EAAsB;;EAGtB,MAAIL,OAAO,CAACM,KAAZ,EAAmB;EAGpB;;EAID,SAASF,QAAT,CAAkBL,EAAlB,EAAsB;EACpB,MAAIJ,IAAI,GAAGI,EAAE,CAACE,QAAH,CAAYN,IAAvB,CADoB;;EAGpBA,EAAAA,IAAI,GAAG,OAAOA,IAAP,KAAgB,UAAhB,GAA6BA,IAAI,CAACY,IAAL,CAAUR,EAAV,CAA7B,GAA6CJ,IAApD;EACAD,EAAAA,OAAO,CAACC,IAAD,CAAP;EACD;;EC/BD;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAIO,SAASa,SAAT,CAAmBC,GAAnB,EAAwB;EAC7BA,EAAAA,GAAG,CAACC,SAAJ,CAAcC,KAAd,GAAsB,UAAUX,OAAV,EAAmB;EACvC;EACA,UAAMD,EAAE,GAAG,IAAX;EACAA,IAAAA,EAAE,CAACE,QAAH,GAAcD,OAAd,CAHuC;EAKvC;EACA;;EACAF,IAAAA,SAAS,CAACC,EAAD,CAAT;EACD,GARD;EASD;;ECrBD;EACA;EACA;EACA;EACA;EACA;EACA;;EAGA,SAASU,GAAT,CAAaT,OAAb,EAAsB;EACpB,OAAKW,KAAL,CAAWX,OAAX,EADoB;;EAErB;;EAEDQ,SAAS,CAACC,GAAD,CAAT;;;;;;;;"}